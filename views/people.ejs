<%-include('./partials/head.ejs') %>
<%-include('./partials/header.ejs') %>
<main class="lg:flex lg:flex-row lg:gap-4">
    <section class="w-1/5">
        <%-include('./partials/side-bar') %>
    </section>
    <section aria-live="polite"
         class="container pb-12 space-y-4 w-full lg:w-3/5 xl:w-2/5
          pt-20
         "
    > 
        <h1 class="font-bold bg-blue-500 p-2 text-white md:mt-8 lg:mt-0">
            People you may know
        </h1>
         <hr>
         <div class="people space-y-2">
            <%if(people.length) {%>
                <%people.forEach(person => { %>
                <div class="flex flex-col items-start gap-2 border rounded-md p-2">
                    <a href="/profiles/<%=person.id %>">
                        <div class="flex flex-row items-center gap-2">
                            <img 
                                src="<%=person.pictureUrl%>" 
                                alt="<%=person.name%>" 
                                class="h-10 w-10 rounded-full"
                            >
                            <div class="flex flex-col">
                                <h1 class="text-slate-600"><%=person.name%></h1>
                                <span class="text-xs text-slate-400 font-light">
                                    <%=person.mutualFriends%> Mutual friends</span>
                            </div>
                        </div>
                    </a>
                    <div class="flex flex-row justify-between w-full gap-5 items-center">
                        <button 
                            class="bg-blue-500 text-white rounded-sm px-4 py-2 w-full
                            hover:opacity-75 transition-all"
                            onclick="window.location.assign('/profiles/<%=person.id%>')"
                        >
                            <i class="fa-solid fa-user text-lg mr-2"></i>
                            <span class="font-light">View Profile</span>
                        </button>
                        <button 
                            class="bg-green-500 text-white rounded-sm px-4 py-2 w-full
                            hover:opacity-75 transition-all font-light"
                            onclick="window.location.assign(
                                '/people/requests/<%=person.id%>'
                                )"
                        >
                            Send Request
                        </button>
                    </div>
                </div>

                <%}) %>
            <%} else {%>
                <h1 class="text-red-500 font-light text-center">No List to dispaly</h1>
            <%}%>    
         </div>
    </section>
    <section class="w-2/5 hidden xl:block">
        <aside class="px-2 border-l w-2/5 pt-2 fixed top-16 bottom-0 space-y-2">
            <div aria-hidden="true" 
                class="border rounded-md space-y-2 p-2 w-full"
            >
                <h1 class="text-white font-bold p-2 bg-blue-500">Filter</h1>
                <div class="wide-screen w-full">
                    <button class="p-2 text-slate-600 text-center w-full hover:bg-blue-500 
                        hover:text-white transition-all text-sm font-light text-start"
                        onclick="window.location.assign('/people')"
                    >
                        All People
                    </button>
                    <button class="p-2 text-slate-600 text-center w-full hover:bg-blue-500 
                        hover:text-white transition-all text-sm font-light text-start"
                        onclick="window.location.assign('/people/requests/sent')"
                    >
                        Requests Sent
                    </button>
                    <button class="p-2 text-slate-600 text-center w-full hover:bg-blue-500 
                        hover:text-white transition-all text-sm font-light text-start"
                        onclick="window.location.assign('/people/requests/received')"
                    >
                        Requests Received
                    </button>
                </div>
             </div>
             <hr>
             <%-include('./partials/footer.ejs') %>
         </aside>
    </section>
    <%-include('./partials/side-drawer.ejs') %>
    <div aria-hidden="true" 
        class=" fixed w-full border  p-2 bg-blue-500 bottom-8
        right-0 xl:hidden lg:w-4/5"
    >
        <div class="small-screen flex flex-row items-center justify-between gap-4 ">
            <button class=" p-2 text-white text-center bg-slate-500 w-full 
                hover:bg-white hover:text-blue-500 transition-all 
                text-sm font-light"
                onclick="window.location.assign('/people')"
            >
                All People
            </button>
            <button class="p-2 text-white text-center bg-slate-500 w-full 
                hover:bg-white hover:text-blue-500 transition-all 
                text-sm font-light"
                onclick="window.location.assign('/people/requests/sent')"
            >
                Requests Sent
            </button>
            <button class="p-2 text-white text-center bg-slate-500 w-full 
                hover:bg-white hover:text-blue-500 transition-all 
                text-sm font-light"
                onclick="window.location.assign('/people/requests/received')"
            >
                Requests Received
            </button>
        </div>
    </div>
</main>
</body>
<script src="scripts/navlinks.js"></script>
<script src="scripts/people-filter-buttons.js"></script>
</html>